---
/**
 * Glossary Hub Page
 * URL: /learn/
 *
 * Lists all dental terms in the glossary
 */

import { getCollection } from 'astro:content';
import PageLayout from '../../layouts/PageLayout.astro';
import Breadcrumbs from '../../modules/programmatic-seo/components/Breadcrumbs.astro';

const glossaryEntries = await getCollection('glossary');

const breadcrumbs = [
  { label: 'Home', href: '/' },
  { label: 'Learn' },
];
---

<PageLayout
  title="Dental Glossary | Learn About Dental Terms | Smile Savers"
  description="Explore our comprehensive dental glossary. Learn about dental procedures, terminology, and treatments from the experts at Smile Savers."
>
  <div class="page-container">
    <Breadcrumbs items={breadcrumbs} />

    <header class="page-header">
      <span class="content-type">Educational Resource</span>
      <h1 class="page-title">Dental Glossary</h1>
      <p class="page-description">
        Understanding dental terminology helps you make informed decisions about your oral health.
        Explore our glossary of dental terms, procedures, and treatments.
      </p>
    </header>

    <section class="glossary-grid grid-auto" style="--grid-min: var(--grid-min-lg);" aria-label="Dental terms">
      {glossaryEntries.map((entry) => (
        <a href={`/learn/${entry.data.term}/`} class="glossary-card">
          <h2 class="term-title">{entry.data.termDisplay}</h2>
          <p class="term-definition">{entry.data.definition}</p>
          <span class="learn-more">
            Learn more
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true">
              <line x1="5" y1="12" x2="19" y2="12"/>
              <polyline points="12 5 19 12 12 19"/>
            </svg>
          </span>
        </a>
      ))}
    </section>
  </div>
</PageLayout>

<style>
  .page-container {
    max-width: var(--container-xl);
    margin-inline: auto;
    padding-inline: var(--spacing-element);
    padding-bottom: var(--spacing-section);
  }

  .page-header {
    text-align: center;
    padding-block: var(--spacing-block);
    max-width: var(--container-md);
    margin-inline: auto;
  }

  .content-type {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    background: var(--color-secondary-light);
    color: var(--color-secondary);
    border-radius: var(--radius-full);
    font-size: var(--font-size-xs);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1rem;
  }

  .page-title {
    font-size: var(--font-size-4xl);
    margin-bottom: 1rem;
  }

  .page-description {
    font-size: var(--font-size-lg);
    color: var(--color-text-muted);
    line-height: var(--line-height-relaxed);
  }

  /* Grid layout handled by .grid-auto utility class */

  .glossary-card {
    display: flex;
    flex-direction: column;
    padding: 1.5rem;
    background: var(--color-surface-elevated);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-xl);
    text-decoration: none;
    color: inherit;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  }

  .glossary-card:hover {
    border-color: var(--color-primary);
    box-shadow: var(--shadow-lg);
  }

  .term-title {
    font-size: var(--font-size-xl);
    margin-bottom: 0.75rem;
  }

  .term-definition {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    line-height: var(--line-height-relaxed);
    flex-grow: 1;
    margin-bottom: 1rem;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .learn-more {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-primary);
    margin-top: auto;
  }

  .glossary-card:hover .learn-more {
    gap: 0.75rem;
  }
</style>
