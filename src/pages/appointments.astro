---
/**
 * Appointments Page
 * Multi-step booking wizard
 */

import PageLayout from "../layouts/PageLayout.astro";
import BookingWizard from "../modules/appointments/components/BookingWizard.astro";

const title = "Book an Appointment";
const description =
  "Schedule your dental appointment at Smile Savers. Easy online booking for new and existing patients.";
---

<PageLayout title={title} description={description}>
  <main id="main-content">
    <!-- Page Header -->
    <section class="page-header">
      <div class="header-container">
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <ol>
            <li><a href="/">Home</a></li>
            <li aria-current="page">Appointments</li>
          </ol>
        </nav>
        <h1 class="page-title">Book an Appointment</h1>
        <p class="page-description">
          Schedule your visit in just a few steps. We'll confirm your appointment within 24 hours.
        </p>
      </div>
    </section>

    <!-- Booking Section -->
    <section class="booking-section section">
      <div class="booking-container">
        <BookingWizard />
      </div>
    </section>

    <!-- Help Section -->
    <section class="help-section">
      <div class="help-container">
        <div class="help-card">
          <h3 class="help-title">Need Help Booking?</h3>
          <p class="help-text">
            Call us directly and our friendly staff will help you find the perfect appointment time.
          </p>
          <a href="tel:+17189568400" class="help-phone">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
            </svg>
            +1 718-956-8400
          </a>
        </div>

        <div class="help-card">
          <h3 class="help-title">Office Hours</h3>
          <ul class="hours-list">
            <li><span>Mon - Thu</span><span>10 AM - 6 PM</span></li>
            <li><span>Friday</span><span>9 AM - 6 PM</span></li>
            <li><span>Saturday</span><span>9 AM - 5 PM</span></li>
            <li><span>Sunday</span><span>Closed</span></li>
          </ul>
        </div>

        <div class="help-card">
          <h3 class="help-title">Emergency Care</h3>
          <p class="help-text">
            Dental emergency? We offer same-day emergency appointments when available.
          </p>
          <a href="/contact" class="help-link">Contact for Emergency</a>
        </div>
      </div>
    </section>
  </main>
</PageLayout>

<style>
  .page-header {
    background: linear-gradient(135deg, var(--color-primary-light), var(--color-secondary-light));
    padding-block: var(--spacing-section);
  }

  .header-container {
    max-width: var(--container-xl);
    margin-inline: auto;
    padding-inline: var(--spacing-element);
    text-align: center;
  }

  .breadcrumb {
    margin-bottom: 1.5rem;
  }

  .breadcrumb ol {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.5rem;
    list-style: none;
    margin: 0;
    padding: 0;
    font-size: var(--font-size-sm);
  }

  .breadcrumb li {
    display: flex;
    align-items: center;
    gap: 0.5rem;

    &:not(:last-child)::after {
      content: "/";
      color: var(--color-text-muted);
    }
  }

  .breadcrumb a {
    color: var(--color-text-muted);
    text-decoration: none;

    &:hover {
      color: var(--color-primary-dark);
      text-decoration: underline;
    }
  }

  .breadcrumb [aria-current="page"] {
    color: var(--color-text);
    font-weight: var(--font-weight-medium);
  }

  .page-title {
    font-size: var(--font-size-5xl);
    margin-bottom: 1rem;
    color: var(--color-primary-dark);
  }

  .page-description {
    font-size: var(--font-size-xl);
    color: var(--color-text-muted);
    max-width: 600px;
    margin-inline: auto;
    line-height: var(--line-height-relaxed);
  }

  .booking-section {
    background: var(--color-surface);
  }

  .booking-container {
    max-width: 800px;
    margin-inline: auto;
    padding-inline: var(--spacing-element);
  }

  .help-section {
    background: var(--color-surface-sunken);
    padding-block: var(--spacing-section);
  }

  .help-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.5rem;
    max-width: var(--container-xl);
    margin-inline: auto;
    padding-inline: var(--spacing-element);
  }

  .help-card {
    background: var(--color-surface-elevated);
    padding: 1.5rem;
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-border);
  }

  .help-title {
    font-size: var(--font-size-lg);
    margin-bottom: 0.75rem;
  }

  .help-text {
    font-size: var(--font-size-sm);
    color: var(--color-text-muted);
    margin-bottom: 1rem;
    line-height: var(--line-height-relaxed);
  }

  .help-phone {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--color-primary);
    text-decoration: none;

    &:hover {
      color: var(--color-primary-dark);
    }
  }

  .hours-list {
    list-style: none;
    margin: 0;
    padding: 0;

    li {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--color-border);
      font-size: var(--font-size-sm);

      &:last-child {
        border-bottom: none;
      }

      span:last-child {
        color: var(--color-text-muted);
      }
    }
  }

  .help-link {
    display: inline-flex;
    align-items: center;
    gap: 0.25rem;
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    color: var(--color-primary);
    text-decoration: none;

    &:hover {
      text-decoration: underline;
    }
  }
</style>
