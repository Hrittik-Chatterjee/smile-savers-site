---
/**
 * MobileBottomBar - Sticky bottom bar for mobile with appointment booking
 * Only visible on mobile devices (< 768px)
 * Features: Call button + Book Online button
 */

import { ctaButton } from '@/config/navigation';
import { siteConfig } from '@/config/site';
import { formatPhoneLink } from '@/lib/utils';
---

<div class="mobile-bottom-bar">
  <!-- Call Button -->
  <a href={formatPhoneLink(siteConfig.phone)} class="mobile-action-btn mobile-call-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
    </svg>
    <span>Call</span>
  </a>

  <!-- Book Online Button -->
  <a href={ctaButton.href} class="mobile-action-btn mobile-book-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
      <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
      <line x1="16" y1="2" x2="16" y2="6"/>
      <line x1="8" y1="2" x2="8" y2="6"/>
      <line x1="3" y1="10" x2="21" y2="10"/>
    </svg>
    <span>Book Online</span>
  </a>
</div>

<style>
  .mobile-bottom-bar {
    display: none;
  }

  @media (max-width: 768px) {
    .mobile-bottom-bar {
      display: flex;
      gap: 0.375rem;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      padding: 0.5rem 0.75rem;
      padding-right: 80px; /* Space for accessibility button */
      background: var(--color-surface-elevated);
      border-top: 1px solid var(--color-border);
      z-index: var(--z-sticky);
      box-shadow: 0 -4px 12px oklch(0% 0 0 / 0.08);
    }

    .mobile-action-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.375rem;
      padding: 0.625rem 0.75rem;
      border-radius: var(--radius-lg);
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-semibold);
      text-decoration: none;
      transition: background-color var(--transition-fast), transform var(--transition-fast);

      &:active {
        transform: scale(0.98);
      }

      &:focus-visible {
        outline: 2px solid var(--color-accent);
        outline-offset: 2px;
      }
    }

    /* Call Button - Outline style */
    .mobile-call-btn {
      background: var(--color-surface-elevated);
      color: var(--color-primary);
      border: 2px solid var(--color-primary);

      &:hover {
        background: oklch(from var(--color-primary) l c h / 0.1);
      }
    }

    /* Book Online Button - Filled style */
    .mobile-book-btn {
      background: var(--color-primary);
      color: var(--color-text-inverted);
      border: 2px solid var(--color-primary);

      &:hover {
        background: var(--color-primary-dark);
        border-color: var(--color-primary-dark);
      }
    }
  }
</style>
