---
/**
 * Team Member Card Component
 * 
 * Features:
 * - Elevated shadow styling (featured variant)
 * - HIPAA compliant (public staff info only)
 * - NY Dental Board compliant (credentials displayed)
 * - Dark/Light mode support
 * 
 * @example
 * <TeamCard
 *   id="dr-smith"
 *   name="Dr. Sarah Smith"
 *   title="Lead Dentist"
 *   credentials="DDS, FAGD"
 *   bio="Over 15 years of experience in cosmetic dentistry"
 *   image="/images/team/dr-smith.jpg"
 *   href="/about/team/dr-smith"
 * />
 */

export interface Props {
  /** Unique identifier */
  id: string;
  /** Full name */
  name: string;
  /** Job title */
  title: string;
  /** Professional credentials (DDS, license #, etc.) */
  credentials?: string;
  /** Short biography */
  bio: string;
  /** Profile image path */
  image?: string;
  /** Link to detailed profile */
  href?: string;
  /** Specialty areas */
  specialties?: string[];
}

const {
  id,
  name,
  title,
  credentials,
  bio,
  image,
  href = '#',
  specialties = [],
} = Astro.props;
---

<article 
  id={`team-card-${id}`}
  class="group relative h-full rounded-2xl p-6 sm:p-8
         bg-white dark:bg-neutral-800
         shadow-lg hover:shadow-xl
         transition-all duration-300 ease-out
         border border-neutral-100 dark:border-neutral-700
         overflow-hidden"
>
  <!-- Background Accent -->
  <div 
    class="absolute top-0 left-0 right-0 h-24 
           bg-gradient-to-br from-primary-50 to-primary-100
           dark:from-primary-950 dark:to-primary-900"
    aria-hidden="true"
  ></div>

  <!-- Profile Image -->
  <div class="relative z-10 flex justify-center mb-4">
    <div class="w-24 h-24 sm:w-28 sm:h-28 rounded-full overflow-hidden
                ring-4 ring-white dark:ring-neutral-800
                shadow-lg group-hover:ring-primary-100 dark:group-hover:ring-primary-900
                transition-all duration-300">
      {image ? (
        <img 
          src={image} 
          alt={`Photo of ${name}`}
          class="w-full h-full object-cover"
          loading="lazy"
        />
      ) : (
        <div class="w-full h-full bg-gradient-to-br from-neutral-200 to-neutral-300
                    dark:from-neutral-600 dark:to-neutral-700
                    flex items-center justify-center">
          <svg class="w-12 h-12 text-neutral-400 dark:text-neutral-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
        </div>
      )}
    </div>
  </div>

  <!-- Content -->
  <div class="relative z-10 text-center">
    <!-- Name & Credentials -->
    <h3 class="text-lg sm:text-xl font-semibold text-neutral-900 dark:text-neutral-50 mb-1">
      {name}
    </h3>
    
    {credentials && (
      <p class="text-sm text-primary-600 dark:text-primary-400 font-medium mb-2">
        {credentials}
      </p>
    )}

    <!-- Title -->
    <p class="text-sm sm:text-base text-accent-600 dark:text-accent-400 font-medium mb-3">
      {title}
    </p>

    <!-- Bio -->
    <p class="text-sm text-neutral-600 dark:text-neutral-400 leading-relaxed line-clamp-3 mb-4">
      {bio}
    </p>

    <!-- Specialties -->
    {specialties.length > 0 && (
      <div class="flex flex-wrap justify-center gap-2 mb-4">
        {specialties.slice(0, 3).map((specialty) => (
          <span class="inline-block px-2 py-1 text-xs rounded-full
                       bg-neutral-100 dark:bg-neutral-700
                       text-neutral-600 dark:text-neutral-300">
            {specialty}
          </span>
        ))}
      </div>
    )}

    <!-- View Profile Link -->
    {href && href !== '#' && (
      <a 
        href={href}
        class="inline-flex items-center gap-1 text-sm font-medium
               text-primary-600 dark:text-primary-400
               hover:text-primary-700 dark:hover:text-primary-300
               transition-colors duration-200
               focus:outline-none focus:underline"
      >
        View Profile
        <svg class="w-4 h-4 group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </a>
    )}
  </div>
</article>
